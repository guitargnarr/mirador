\documentclass[10pt,openany]{book}
\usepackage[margin=0.75in]{geometry}
\usepackage{fancyvrb}
\usepackage[T1]{fontenc}
\usepackage{hyperref}

\hypersetup{colorlinks=true,linkcolor=black,urlcolor=black}
\pagestyle{plain}
\setlength{\parindent}{0pt}
\setlength{\parskip}{4pt}
\setcounter{tocdepth}{1}

\begin{document}

% Title page
\begin{titlepage}
\vspace*{3cm}
\begin{center}
{\Huge\bfseries << title >> }\\[1cm]
{\Large Complete Reference -- << num_keys >> Keys}\\[0.5cm]
{\large << num_positions >> Positions Per Key \textbullet{} << num_chords >> Companion Chords \textbullet{} << num_exercise_types >> Exercise Types}\\[0.5cm]
{\large << total_exercises >> Total Exercises \textbullet{} << total_tabs >> Tab Blocks}\\[2cm]
{\small All tablature verified by mathematical fretboard computation}\\[0.5cm]
{\small Generated by mirador-tab-generator}
\end{center}
\vfill
\end{titlepage}

\tableofcontents
\newpage

<% for part in parts %>
<% if part.title %>
\part{<< part.title >>}
<% endif %>

<% for chapter in part.chapters %>
\chapter{<< chapter.title >>}
{\small << chapter.info >> }

\section*{Scale Positions}

<% for pos in chapter.positions %>
\subsection*{Position << pos.number >> \hfill Frets << pos.fret_range >>}
\begin{Verbatim}[fontsize=\small,xleftmargin=8pt]
<< pos.tab >>
\end{Verbatim}
{\footnotesize << pos.notes >> }
\vspace{4pt}
<% endfor %>

\section*{Companion Chords}
{\small Play these chords over your << chapter.key_name >> exercises:}
\begin{Verbatim}[fontsize=\small,xleftmargin=8pt]
<< chapter.chords_tab >>
\end{Verbatim}
{\small Progression: << chapter.progression >> }
\vspace{8pt}
\hrule
\vspace{8pt}

\section*{Exercises}

<% for pos_group in chapter.exercise_groups %>
\subsection*{Position << pos_group.number >> Exercises}

<% for ex in pos_group.exercises %>
\textbf{<< ex.name >>}
\begin{Verbatim}[fontsize=\small,xleftmargin=8pt]
<< ex.tab >>
\end{Verbatim}
\vspace{2pt}
<% endfor %>
<% endfor %>

<% endfor %>
<% endfor %>

\end{document}
